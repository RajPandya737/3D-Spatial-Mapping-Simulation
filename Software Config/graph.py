# Written by Raj Pandya
# for plotting on matplotlib


import matplotlib.pyplot as plt

num_scans = 8

x_segments = [[-4.540990331238386e-13, -398.17934723491874, -725.1851043318463, -967.803345920147, -1185.8180720498406, -1398.5318878928815, -1652.8204836626917, -1898.800302860654, -1728.0, -1440.7735769123453, -1236.1508145001014, -1026.0335015813407, -848.528137423857, -678.351254516934, -502.08066326299763, -290.87967012604736, 2.1345593709138367e-13, 393.3020891845153, 2000.7694127533243, 2368.9514735955836, 3020.0530624477447, 3443.947134157143, 2458.443436012534, 2095.9381442217036, 1865.0, 1559.4485958411365, 1332.2342858812756, 1147.4280649775123, 969.4433970067568, 795.0210034510507, 583.2095509243968, 340.04243127411155, -4.540990331238386e-13], 
[-10.874892567774697, -400.0387173823381, -750.309882767682, -958.500462040443, -1299.6577361090312, -1391.9477860073077, -1677.866103554713, -1873.005483828648, -1708.057022816175, -1426.297643925012, -1271.167474902073, -979.9118780068405, -859.7494187201509, -688.5596947949718, -540.1614664300915, -264.5849260698398, 41.079589827275655, 345.8351021370426, 1368.8304631491749, 2376.84377737445, 3013.7830183101914, 3462.283480192037, 2413.659886216935, 2141.844875495775, 1857.2356791081932, 1541.290364009572, 1287.6238420204597, 1192.1011307303356, 918.4828600327625, 746.1344699535194, 600.8530212840382, 329.3866563485693, 38.15401052874445],              [0.0, -394.6677214386284, -787.562503807356, -1035.5829143485385, -1240.2652942012046, -1436.7794900587985, -1622.3324590898194, -1824.2606215500086, -1954.0, -1632.0267065909752, -1293.431345515801, -1069.2699214210731, -849.94235098623, -650.0171726329343, -458.07206854101236, -230.59676062306372, 9.944132009076508e-14, 116.66401256564491, 192.48976647964022, 249.45103462580138, 301.9345955666558, 345.89135871785885, 394.49656038231944, 450.1804437050828, 530.0, 609.0676591304061, 845.3497722478273, 1177.3609710204041, 990.6566004423531, 756.1310871396786, 530.3992372580144, 283.2711475674182, 0.0], [-5.106777152444463e-13, -368.5256182884672, -662.8077048563366, -936.1358426380297, -1211.9810229537427, -1512.4432247783302, -1777.5442205517154, -1596.7184364964592, -1408.0, -1267.1745822809735, -1114.1987162086116, -982.7970817416085, -845.6997102991107, -612.2383967876013, -304.2333287302463, -116.66401256564475, 6.270191611634448e-14, 90.7169997374998, 164.55387591698866, 230.0060764701153, 292.7422074112307, 360.8578117393047, 438.8427779428612, 521.7777691745185, 657.0, 919.9765930182301, 1296.2029841133353, 1173.2036229588914, 999.1418818165918, 813.3548211406976, 622.243261025636, 344.5295086804825, -5.106777152444463e-13], [0.0, -366.57471506830586, -815.4983943700076, -1077.2506818250085, -1305.319118070367, -1495.8138325322793, -1695.318942158211, -1888.0116647762186, -1970.0, -1537.8713196722651, -1293.431345515801, -1050.9775899504173, -837.2144289248722, -645.5726107687775, -450.41839989371056, -177.33710271266068, 7.249909050952331e-14, 90.32681909346755, 153.07337294603596, 202.7831350521548, 254.55844122715712, 292.677303530496, 334.44439076908577, 382.50625935725986, 425.0, 485.48871379959905, 614.3798891200057, 783.2443747889976, 992.0708140047262, 776.6871857614038, 540.3490064995068, 289.70912819395045, 0.0], [-5.194951721983073e-13, -405.5927794715316, -727.4812049260369, -1021.6936585230484, -1308.1475451951133, -1639.6580754606196, -1923.5171866884987, -1707.5471731820242, -1454.0, -1280.905576206619, -1128.980788728792, -972.819446393978, -830.8504678941932, -591.6822981658761, -238.41177836345088, -100.4715158383061, 5.437431788214248e-14, 74.71959333217725, 137.76603565143236, 187.78273876062553, 240.41630560342617, 294.34024275510103, 357.54137908186794, 426.64159697540526, 509.0, 663.991634832987, 1205.6627899272291, 1167.3833356727735, 999.1418818165918, 810.5769699755996, 609.2320243252229, 345.89514093459536, -5.194951721983073e-13], [0.0, -372.81760537282196, -839.6074506090083, -1136.696696758106, -1332.8962825366423, -1517.4320424521454, -1710.1010146783915, -1919.396793749122, -1988.0, -1631.045921310572, -1301.7462613084026, -1040.168484990484, -837.9215357060588, -636.6834870404639, -445.44351527296436, -170.7040317641123, 6.711064459327495e-14, 86.42501265314498, 142.35823683981343, 184.4493173625079, 223.44574285494903, 255.26117097688143, 281.78325741594244, 312.8705044486305, 358.0, 421.7376705733891, 467.4830434507111, 603.6469385316478, 941.1591257592949, 783.354028557639, 539.5836396347765, 284.441689499515, 0.0], [-5.341909337880755e-13, -396.42353433677357, -725.1851043318463, -1008.3599729305779, -1281.2774875100245, -1549.8593573319447, -1838.5202696974604, -1581.0258720100076, -1389.0, -1223.0392446628282, -1087.4062097657843, -951.2012364741117, -820.243866176395, -635.5723465744246, -280.8896393559758, -108.66530936298349, 5.878304635907296e-14, 80.18212234862885, 143.8889705692738, 201.116424353096, 256.6797615707168, 322.6102095733876, 386.18164458971785, 480.5847873975829, 595.0, 778.7435126401649, 1306.3656589709594, 1193.990363266455, 1020.3550852521881, 833.3553495294033, 611.9108083517785, 357.01528928951467, -5.341909337880755e-13]]

y_segments = [[1854.0, 2001.782757302993, 1905.7517141088879, 1303.4200646310337, 1502.8180720498399, 1023.4691319389703, 402.6206605011461, 250.6948634232244, -30.174284503389939e-13, -353.587683041693, -592.0304325044908, -685.5736675461891, -1038.5281374238572, -1015.224396621408, -1212.1299466548082, -1762.3508530812167, -1943.0, -2077.2631252929125, -3384.1707275888434, -3845.3864268580533, -3320.053062447744, -2001.171905167191, -1018.3206135235038, -416.90801814846594, 1.141983140204907e-13, 310.19361200564407, 551.8295094704596, 766.6869215670512, 969.4433970067568, 1189.8330152049423, 1407.992407547201, 1709.5087437428306, 1854.0], 
              [1860.9246896370153, 1996.6713527996792, 1755.3468487445784, 1448.0538045367591, 1191.3655663618454, 925.5187751841387, 691.8451391250154, 367.90885802292615, -2.5664992372171613, -277.3128932748207, -504.0788374359226, -684.3736730921092, -847.3241438023626, -1008.4732549163197, -1216.8408856524181, -1470.7016250416348, -1800.231324235889, -1967.442477331974, -3382.780469587729, -3542.2672412890633, -3024.989348992885, -2297.774896388792, -1027.8813704163797, -426.4686681391061, 3.4456003097876544, 303.3078227227411, 550.2855206775373, 774.4439932271401, 967.325163765697, 1186.509697662782, 1398.4028213843005, 1709.0012412642452, 1861.4794226138106], 
              [1566.0, 1984.1286222557349, 1901.3440779082277, 1549.8593573319442, 1240.2652942012041, 960.0253626578719, 671.9921072330981, 362.86799894999865, -3.589439768300892e-13, -324.6302958348381, -535.7568053111265, -714.4633196632084, -849.9423509862303, -972.8194463939782, -1105.8838004160104, -1159.2882014366185, -812.0, -586.5095976811318, -464.7114048531772, -373.32985592384284, -301.9345955666558, -231.11721693615442, -163.4058256198933, -89.54645780540284, 3.245314017740486e-14, 121.1510899720157, 350.1553406140572, 786.6874499557568, 990.6566004423531, 1131.630142343764, 1280.4970320606435, 1424.1002271454906, 1566.0], [2085.0, 1852.703394681702, 1600.1593503095482, 1401.0262967297888, 1211.9810229537422, 1010.5822538626558, 736.2829238704331, 317.6070442422569, -2.58645403979921e-13, -252.05669604483825, -461.51621943229895, -656.6840154291698, -845.6997102991111, -916.2795127574051, -734.4842283464731, -586.5095976811318, -512.0, -456.06515538750216, -397.2681989798533, -344.2284194932538, -292.74220741123065, -241.11748113050726, -181.7746303734176, -103.7880513125802, 4.022964735199055e-14, 182.99472205112838, 536.904855608221, 783.9095987906588, 999.1418818165918, 1217.2715124109263, 1502.2281198633523, 1732.066805192105, 2085.0], [1611.0, 1842.8955418776698, 1968.7872837815517, 1612.2195782546353, 1305.3191180703664, 999.4708492022637, 702.2240983899402, 375.548869881047, -3.6188312914804284e-13, -305.90162492128974, -535.7568053111265, -702.2407745367772, -837.2144289248724, -966.1676894955579, -1087.4062097657845, -891.5338198865364, -592.0, -454.1035848266957, -369.5518130045147, -303.486408490429, -254.5584412271571, -195.56072202289988, -138.53140251616247, -76.08522558629, 2.6023744481881257e-14, 96.56970939798353, 254.48448252278473, 523.3471595044654, 992.0708140047262, 1162.3945179989582, 1304.517899905937, 1456.4661413987972, 1611.0], [2121.0, 2039.0525979583158, 1756.2949913039556, 1529.0726170243806, 1308.1475451951126, 1095.584499514655, 796.7469061841174, 339.6522506300794, -2.6709546689403774e-13, -254.78796055306404, -467.6391543501404, -650.0171726329346, -830.8504678941936, -885.5151371022109, -575.5769487545317, -505.10441940766367, -444.0, -375.6407623944373, -332.5966317040632, -281.0367289582603, -240.41630560342614, -196.6718624889391, -148.09848832528974, -84.86429007701577, 3.116726103830014e-14, 132.07614800491888, 499.40187923644226, 780.0206071595217, 999.1418818165918, 1213.1141643494134, 1470.8162157579684, 1738.9323021549276, 2121.0], [1578.0, 1874.2806708505732, 2026.9916943297626, 1701.1868267710076, 1332.8962825366418, 1013.9156752607734, 708.3470333077815, 381.7917601855631, -3.651896755057407e-13, -324.435205512822, -539.2009562024123, -695.0183615075223, -837.921535706059, -952.8641756987171, -1075.395775843138, -858.1871203528266, -548.0, -434.48787921863106, -343.6831860941987, -276.04791128444504, -223.445742854949, -170.5600615370178, -116.71844687135237, -62.233812723144894, 2.1921177704737623e-14, 83.88883846693518, 193.63781677673546, 403.34398917223126, 941.1591257592949, 1172.3721533465887, 1302.6701408409142, 1429.98493882791, 1578.0], [2181.0, 1992.955689779364, 1750.7517141088879, 1509.1173463291195, 1281.2774875100238, 1035.5829143485378, 761.5400304065291, 314.4855990899988, -2.55155160602351e-13, -243.27763155411245, -450.41839989371135, -635.5723465744248, -820.2438661763953, -951.201236474112, -678.1275768632845, -546.2974011845994, -480.0, -403.1027502457277, -347.3787042242438, -300.9919996535214, -256.6797615707167, -215.56125041160556, -159.9616747286075, -95.59425778790282, 3.643324227463376e-14, 154.9017156808059, 541.114373364237, 797.7988546161489, 1020.3550852521881, 1247.2044184538179, 1477.2833724855475, 1794.8370631379116, 2181.0]]

z_values = [1000 * i for i in range(num_scans)]

# Assuming num_scans, x_segments, y_segments, and z_values are defined earlier in your code

# Open a file in write mode
with open('output.txt', 'w') as file:
    # Iterate over the lists simultaneously using zip
    for x, y, z in zip(x_segments, y_segments, z_values):
        # Iterate over the elements in each list and write them into the file
        for x_val, y_val in zip(x, y):
            # Concatenate the x, y, and z values as a single string separated by spaces
            line = f"{x_val} {y_val} {z}\n"
            # Write the line into the file
            file.write(line)
        # Add a newline after each set of x, y, z values for each scan
        file.write("\n")



lines = [[(x_segments[i][j], y_segments[i][j], 2*i) for i in range(num_scans)] for j in range(33)]
fig = plt.figure()
ax = fig.add_subplot(111, projection='3d')

for i in range(num_scans):
    ax.plot(x_segments[i], y_segments[i], zs=z_values[i], color='black', linewidth=1)  # Lines in black
    ax.scatter(x_segments[i], y_segments[i], zs=z_values[i], color='black', s=5)  # Points in red, adjust size (s) as needed

# for single_line in lines:
#     single_line_x, single_line_y, single_line_z = zip(*single_line)
#     ax.plot(single_line_x, single_line_y, zs=single_line_z, color='black', linewidth=2)  # Plotting single_line in blue



print(x_segments)
print(y_segments)
print(z_values)


ax.set_xlabel('X')
ax.set_ylabel('Y')
ax.set_zlabel('Z')
ax.set_title('3D Plot')

plt.show()